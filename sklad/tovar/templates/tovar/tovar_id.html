{% extends 'base.html' %}

{% block title %}{{ tovar.title }}{% endblock %}

{% block content %}

<div class="container-xl">
  
    <dl class="row">

      <a href="{{request.META.HTTP_REFERER}}">Назад</a>

        <dt class="col-sm-3">Наименование: </dt>
        <dd class="col-sm-9">{{ tovar.title }}</dd>

        <dt class="col-sm-3">Категория: </dt>
        <dd class="col-sm-9">{{ tovar.category }}</dd>
      
        <dt class="col-sm-3">Цвет:</dt>
        <dd class="col-sm-9">{{ tovar.color }}</dd>

        <dt class="col-sm-3">Количество:</dt>
        <dd class="col-sm-9">{{ tovar.amount }}</dd>
        

        <div class="container-xl">
          <!-- <button onclick="window.location.href='{% url 'increase-counter' %}'"> - 1 </button> -->
          <!-- Кнопка работает, но я не понял как добавлять изменения в историю. -->
        </div>

        <dt class="col-sm-3">Номер:</dt>
        <dd class="col-sm-9">{{ tovar.number }}</dd>

        <dt class="col-sm-3">В наличии?:</dt>
        <dd class="col-sm-9">{{ tovar.there_is }}</dd>
        
        <dt class="col-sm-3">Дата первого появления:</dt>
        <dd class="col-sm-9">{{ tovar.data_create }}</dd>

        <div class="container-xl">
          <a href="{% url 'edit_tovar' tovar.pk %}" class="btn btn-outline-primary"  method="get">
            Отредактировать
          </a>
        </action>
        </div>
 
        <div class="col-6">
          <table class="table">
            <thead>
              <tr>
                <th scope="col">#</th>
                <th scope="col">Дата</th>
                <th scope="col">Количество</th>
              </tr>
            </thead>
            <tbody>
              {% for item in history %}
              <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{ item.history_date }}</td>
                <td>{{ item.amount }}</td>
              </tr>
              {% endfor %}
            </tbody>  
          </table>
        </div>
    </dl>
</div>


{% endblock %}